{"version":3,"sources":["/src/index.tsx","/src/value.tsx","/src/label.tsx","/src/utils.ts","/src/options.tsx","/src/typings.ts"],"names":[],"mappings":"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","file":"","sourcesContent":["import { bind } from 'lodash-decorators';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { Value } from './value';\nimport { Options } from './options';\nimport { toString, isArray, keys } from './utils';\nimport { SelectProps, SelectState, Option, Rect } from './typings';\n\nexport { SelectProps, Option };\n\nexport class Select extends React.PureComponent<SelectProps, SelectState> {\n    private static Container = styled.div`\n        display: flex;\n        position: relative;\n        cursor: default;\n        width: 100%;\n        pointer-events: ${(props: { disabled?: boolean }) =>\n            props.disabled ? 'none' : 'auto'};\n        opacity: ${(props: { disabled?: boolean }) =>\n            props.disabled ? 0.75 : 1};\n    `;\n\n    private static NativeSelect = styled.select`\n        display: block;\n        z-index: ${(props: { native?: boolean }) =>\n            props.native ? '1' : 'auto'};\n        opacity: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n    `;\n\n    private nativeSelect: React.RefObject<HTMLSelectElement>;\n    private container: React.RefObject<HTMLDivElement>;\n    private rect: Rect = { left: 0, top: 0, width: 0, height: 0 };\n\n    constructor(props: SelectProps) {\n        super(props);\n\n        this.nativeSelect = React.createRef();\n        this.container = React.createRef();\n\n        this.state = {\n            open: false\n        };\n    }\n\n    private get options(): Option[] {\n        const { search } = this.state;\n        const { creatable } = this.props;\n        let options = this.props.options;\n        const showCreate =\n            Boolean(creatable && search) &&\n            !options.some(option => option.value === search);\n\n        if (search) {\n            options = options.filter(option =>\n                option.label.toLowerCase().startsWith(search.toLowerCase())\n            );\n        }\n\n        if (showCreate) {\n            options = [\n                { label: `Create \"${search}\"`, value: 'CREATE' },\n                ...options\n            ];\n        }\n\n        return options;\n    }\n\n    public componentWillUnmount(): void {\n        this.removeDocumentListener();\n    }\n\n    public render(): React.ReactNode {\n        const { Container } = Select;\n        const {\n            className,\n            options,\n            creatable,\n            clearable,\n            placeholder,\n            value,\n            disabled,\n            labelComponent,\n            multi,\n            native\n        } = this.props;\n        const { open, search, selectedIndex } = this.state;\n        const searchable = this.props.searchable || creatable;\n\n        return (\n            <Container\n                className={className}\n                disabled={disabled}\n                innerRef={this.container}\n                onKeyUp={this.onKeyUp}\n                onKeyDown={this.onKeyDown}\n            >\n                {this.renderNativeSelect()}\n                <Value\n                    clearable={clearable}\n                    searchable={searchable}\n                    open={open}\n                    multi={multi}\n                    mobile={native}\n                    options={options}\n                    placeholder={placeholder}\n                    value={value}\n                    search={search}\n                    labelComponent={labelComponent}\n                    onClear={this.onClear}\n                    onClick={this.toggleMenu}\n                    onSearch={this.onSearch}\n                    onSearchFocus={this.onSearchFocus}\n                    onOptionRemove={this.onOptionRemove}\n                />\n                <Options\n                    open={open}\n                    options={this.options}\n                    rect={this.rect}\n                    value={value}\n                    multi={multi}\n                    search={search}\n                    selectedIndex={selectedIndex}\n                    labelComponent={labelComponent}\n                    onSelect={this.onOptionSelect}\n                />\n            </Container>\n        );\n    }\n\n    private renderNativeSelect(): React.ReactNode {\n        const { NativeSelect } = Select;\n        const { native, placeholder, multi, disabled } = this.props;\n        const value = multi\n            ? (this.props.value || []).map(val => toString(val))\n            : toString(this.props.value || '');\n\n        return (\n            <NativeSelect\n                innerRef={this.nativeSelect}\n                multiple={multi}\n                value={value}\n                disabled={disabled}\n                native={native}\n                tabIndex={-1}\n                onChange={this.onChangeNativeSelect}\n            >\n                <option value=\"\" disabled>\n                    {placeholder}\n                </option>\n                {this.options.map(option => {\n                    const value = toString(option.value);\n\n                    return (\n                        <option\n                            disabled={option.disabled}\n                            value={value}\n                            key={value}\n                        >\n                            {option.label}\n                        </option>\n                    );\n                })}\n            </NativeSelect>\n        );\n    }\n\n    @bind\n    private toggleMenu(): void {\n        const open = !this.state.open;\n\n        if (open) {\n            this.openMenu();\n        } else {\n            this.closeMenu();\n        }\n    }\n\n    private openMenu(): void {\n        let selectedIndex = this.state.selectedIndex;\n\n        if (this.container.current) {\n            const rect = this.container.current.getBoundingClientRect();\n\n            this.rect.left = rect.left;\n            this.rect.top = rect.top;\n            this.rect.width = rect.width;\n            this.rect.height = rect.height;\n\n            selectedIndex = this.options.findIndex(\n                option => toString(option.value) === toString(this.props.value)\n            );\n        }\n\n        this.setState({ open: true, search: undefined, selectedIndex }, () =>\n            this.addDocumentListener()\n        );\n    }\n\n    private closeMenu(callback = () => {}): void {\n        this.removeDocumentListener();\n        this.setState(\n            {\n                open: false,\n                search: undefined,\n                selectedIndex: undefined\n            },\n            callback\n        );\n    }\n\n    private addDocumentListener(): void {\n        if (typeof document !== 'undefined') {\n            document.addEventListener('click', this.onDocumentClick);\n        }\n    }\n\n    private removeDocumentListener(): void {\n        if (typeof document !== 'undefined') {\n            document.removeEventListener('click', this.onDocumentClick);\n        }\n    }\n\n    @bind\n    private onChangeNativeSelect(\n        e: React.SyntheticEvent<HTMLSelectElement>\n    ): void {\n        const { onChange } = this.props;\n\n        if (onChange) {\n            const values = Array.from(e.currentTarget.selectedOptions).map(\n                htmlOption => this.options[htmlOption.index - 1].value\n            );\n\n            onChange(values.length === 1 ? values[0] : values);\n        }\n    }\n\n    @bind\n    private onSearchFocus(): void {\n        if (!this.state.open && !this.props.native) {\n            this.openMenu();\n        }\n    }\n\n    @bind\n    private onOptionSelect(value: any | any[]): void {\n        const { current } = this.nativeSelect;\n        const { onChange } = this.props;\n\n        if (current) {\n            current.value = isArray(value)\n                ? (value.map(val => toString(val)) as any)\n                : toString(value);\n        }\n\n        this.closeMenu(() => onChange && onChange(value));\n    }\n\n    @bind\n    private onOptionRemove(value: any): void {\n        if (isArray(this.props.value)) {\n            const values = this.props.value.filter(\n                val => toString(val) !== toString(value)\n            );\n\n            this.onOptionSelect(values);\n        }\n    }\n\n    @bind\n    private onClear(): void {\n        this.onOptionSelect(undefined);\n    }\n\n    @bind\n    private onSearch(search: string): void {\n        this.setState({ search }, () => {\n            if (this.options.length === 1 || (this.props.creatable && search)) {\n                this.setState({ selectedIndex: 0 });\n            } else {\n                this.setState({ selectedIndex: undefined });\n            }\n        });\n    }\n\n    @bind\n    private onDocumentClick(): void {\n        this.closeMenu();\n    }\n\n    @bind\n    private onKeyDown({ keyCode }: React.KeyboardEvent): void {\n        switch (keyCode) {\n            case keys.TAB:\n                if (this.state.open) {\n                    this.closeMenu();\n                }\n                break;\n        }\n    }\n\n    @bind\n    private onKeyUp({ keyCode }: React.KeyboardEvent): void {\n        const { search, open } = this.state;\n        const { creatable, multi, value, onCreate } = this.props;\n        let selectedIndex = this.state.selectedIndex;\n\n        switch (keyCode) {\n            case keys.ARROW_UP:\n                if (open) {\n                    if (selectedIndex !== undefined) {\n                        selectedIndex = selectedIndex - 1;\n\n                        if (selectedIndex < 0) {\n                            selectedIndex = undefined;\n                        }\n                    }\n\n                    this.setState({ selectedIndex });\n                } else {\n                    this.openMenu();\n                }\n                break;\n            case keys.ARROW_DOWN:\n                if (open) {\n                    if (selectedIndex === undefined) {\n                        selectedIndex = 0;\n                    } else {\n                        selectedIndex = selectedIndex + 1;\n                    }\n\n                    if (selectedIndex >= this.options.length) {\n                        selectedIndex = undefined;\n                    }\n\n                    this.setState({ selectedIndex });\n                } else {\n                    this.openMenu();\n                }\n                break;\n            case keys.ENTER:\n                const isCreatable =\n                    selectedIndex === 0 &&\n                    creatable &&\n                    this.options[0].value === 'CREATE';\n\n                if (isCreatable && onCreate && search) {\n                    this.closeMenu(() => onCreate(search));\n                } else if (selectedIndex !== undefined) {\n                    const newValue = this.options[selectedIndex].value;\n\n                    this.onOptionSelect(\n                        multi ? [...value, newValue] : newValue\n                    );\n                }\n                break;\n            case keys.ESC:\n                if (open) {\n                    this.closeMenu();\n                }\n                break;\n        }\n    }\n}\n","import { bind } from 'lodash-decorators';\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport { SelectLabel } from './label';\nimport { toString, keys, isArray } from './utils';\nimport { SelectProps, Option } from './typings';\n\nexport interface ValueProps {\n    options: SelectProps['options'];\n    value: SelectProps['value'];\n    placeholder: SelectProps['placeholder'];\n    clearable: SelectProps['clearable'];\n    searchable: SelectProps['searchable'];\n    labelComponent: SelectProps['labelComponent'];\n    multi: SelectProps['multi'];\n    mobile: SelectProps['native'];\n    search?: string;\n    open: boolean;\n    onClear(): void;\n    onClick(): void;\n    onSearch(search: string): void;\n    onSearchFocus(): void;\n    onOptionRemove(value: any): void;\n}\n\ninterface TagRemoveProps<T = any> {\n    value: T;\n    onClick(value: T): void;\n}\n\ninterface SearchProps {\n    canSearch?: boolean;\n    multi?: boolean;\n}\n\nconst Button = styled.button`\n    background: transparent;\n    border: none;\n    margin: 0;\n    font-size: 20px;\n    padding: 0;\n    line-height: 1;\n    cursor: pointer;\n\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst ArrowButton = styled(Button)`\n    font-size: 12px;\n    color: #ccc;\n    transform: translateY(-1px) scaleY(0.8);\n\n    &:hover {\n        color: #333;\n    }\n`;\n\nconst ValueContainer = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex: 1;\n    min-height: ${(props: { mobile?: boolean }) =>\n        props.mobile ? '42px' : '32px'};\n    pointer-events: ${(props: { mobile?: boolean }) =>\n        props.mobile ? 'none' : 'auto'};\n    padding: 5px 10px;\n    background: #fff;\n    cursor: default;\n    border: 1px solid #ccc;\n    z-index: 0;\n`;\n\nconst ValueLeft = styled.div`\n    display: flex;\n    flex: 1;\n    align-items: center;\n    flex-wrap: wrap;\n    user-select: none;\n    min-width: 0;\n    margin: ${(props: { multi?: boolean }) => (props.multi ? '-2px -5px' : 0)};\n`;\n\nconst ValueRight = styled.div`\n    margin-left: 4px;\n`;\n\nconst Placeholder = styled(SelectLabel)`\n    color: #aaa;\n`;\n\nconst Clearer = styled(Button)`\n    margin-right: 6px;\n    color: #ccc;\n\n    &:hover {\n        color: #333;\n    }\n`;\n\nconst Search = styled.span`\n    min-width: 1px;\n    margin-left: ${(props: SearchProps) => (props.multi ? '4px' : '-1px')};\n    height: 16px;\n    opacity: ${(props: SearchProps) => (props.canSearch ? 1 : 0)};\n\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst TagLabel = styled.span`\n    display: table-cell;\n    padding: 0px 3px;\n    background-color: rgba(0, 126, 255, 0.08);\n    border-radius: 2px;\n    border: 1px solid rgba(0, 126, 255, 0.24);\n    color: #007eff;\n    font-size: 0.9em;\n    line-height: 1.4;\n    margin: 3px;\n    vertical-align: middle;\n`;\n\nconst StyledTagRemove = styled.button`\n    cursor: pointer;\n    color: #007eff;\n    border: none;\n    background: none;\n    padding: 2px 4px;\n    margin: 0;\n    margin-right: 4px;\n    line-height: 1;\n    display: inline-block;\n    border-right: 1px solid rgba(0, 126, 255, 0.24);\n    margin-left: -2px;\n    font-size: 13px;\n\n    &:hover {\n        background-color: rgba(0, 113, 230, 0.08);\n    }\n\n    &:focus {\n        outline: none;\n    }\n`;\n\nclass TagRemove extends React.PureComponent<TagRemoveProps> {\n    public render(): React.ReactNode {\n        return (\n            <StyledTagRemove\n                className=\"remove\"\n                tabIndex={-1}\n                onClick={this.onClick}\n            >\n                ×\n            </StyledTagRemove>\n        );\n    }\n\n    @bind\n    private onClick(e: React.SyntheticEvent<HTMLButtonElement>): void {\n        e.stopPropagation();\n\n        this.props.onClick(this.props.value);\n    }\n}\n\nexport class Value extends React.PureComponent<ValueProps> {\n    search: React.RefObject<HTMLSpanElement>;\n\n    constructor(props: ValueProps) {\n        super(props);\n\n        this.search = React.createRef();\n    }\n\n    public componentDidUpdate(prevProps: ValueProps): void {\n        if (prevProps.search && !this.props.search && this.search.current) {\n            this.search.current.innerText = '';\n        }\n    }\n\n    public render(): React.ReactNode {\n        const { options, value, clearable, open, mobile, multi } = this.props;\n        const valueOptions = options.filter(option => {\n            if (isArray(value)) {\n                return value.some(\n                    val => toString(option.value) === toString(val)\n                );\n            } else {\n                return toString(option.value) === toString(value);\n            }\n        });\n        const showClearer = Boolean(clearable && valueOptions.length);\n\n        return (\n            <ValueContainer\n                className=\"value-container\"\n                mobile={mobile}\n                onClick={this.onClick}\n            >\n                <ValueLeft className=\"value-left\" multi={multi}>\n                    {!multi && this.renderSearch()}\n                    {this.renderValues(valueOptions)}\n                    {multi && this.renderSearch()}\n                </ValueLeft>\n                <ValueRight className=\"value-right\">\n                    {showClearer && (\n                        <Clearer\n                            tabIndex={-1}\n                            className=\"clearer\"\n                            onClick={this.onClear}\n                        >\n                            ×\n                        </Clearer>\n                    )}\n                    <ArrowButton className=\"arrow\" tabIndex={-1}>\n                        {open ? '▲' : '▼'}\n                    </ArrowButton>\n                </ValueRight>\n            </ValueContainer>\n        );\n    }\n\n    private renderSearch(): React.ReactNode {\n        const { open, searchable, multi, onSearchFocus } = this.props;\n        const canSearch = open && searchable;\n\n        return (\n            <Search\n                className=\"search\"\n                contentEditable\n                multi={multi}\n                canSearch={canSearch}\n                onInput={this.onSearch}\n                onKeyDown={this.onKeyDown}\n                onFocus={onSearchFocus}\n                innerRef={this.search}\n            />\n        );\n    }\n\n    private renderValues(valueOptions: Option[]): React.ReactNode {\n        const { placeholder, search, labelComponent, multi } = this.props;\n        const Label = labelComponent || (multi ? TagLabel : SelectLabel);\n\n        if (search && !multi) {\n            return null;\n        }\n\n        if (valueOptions.length === 0) {\n            return <Placeholder>{placeholder}</Placeholder>;\n        }\n\n        return valueOptions.map(option => (\n            <Label className=\"value\" key={toString(option.value)} {...option}>\n                {multi && (\n                    <TagRemove\n                        value={option.value}\n                        onClick={this.props.onOptionRemove}\n                    >\n                        ×\n                    </TagRemove>\n                )}\n                {option.label}\n            </Label>\n        ));\n    }\n\n    @bind\n    private onClick(): void {\n        if (this.search.current) {\n            this.search.current.focus();\n        }\n\n        this.props.onClick();\n    }\n\n    @bind\n    private onClear(e: React.SyntheticEvent<HTMLButtonElement>): void {\n        e.stopPropagation();\n\n        this.props.onClear();\n    }\n\n    @bind\n    private onSearch(e: React.SyntheticEvent<HTMLSpanElement>) {\n        this.props.onSearch(e.currentTarget.innerText.trim());\n    }\n\n    @bind\n    private onKeyDown(e: React.KeyboardEvent<HTMLSpanElement>) {\n        const { open, searchable } = this.props;\n\n        if (\n            (!open && !searchable) ||\n            e.keyCode === keys.ENTER ||\n            e.keyCode === keys.ARROW_UP ||\n            e.keyCode === keys.ARROW_DOWN\n        ) {\n            e.preventDefault();\n        }\n    }\n}\n","// @ts-ignore\nimport * as React from 'react';\n// @ts-ignore\nimport styled, { StyledComponentClass } from 'styled-components';\n\nexport const SelectLabel = styled.span`\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    user-select: none;\n`;\n","export function toString(value: any): string {\n    if (typeof value === 'string') {\n        return value;\n    }\n\n    if (value && typeof value === 'object') {\n        if (value.toJSON) {\n            value = value.toJSON();\n        }\n    }\n\n    return JSON.stringify(value);\n}\n\nexport function isArray<T = any>(val: any): val is Array<T> {\n    if (Array.isArray(val)) {\n        return true;\n    }\n\n    // this is just a workaround for potential observable arrays\n    if (val && val.map) {\n        return true;\n    }\n\n    return false;\n}\n\nexport const keys = {\n    ARROW_UP: 38,\n    ARROW_DOWN: 40,\n    ENTER: 13,\n    TAB: 9,\n    ESC: 27\n};\n","import { bind } from 'lodash-decorators';\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { List } from 'react-virtualized/dist/commonjs/List';\nimport styled from 'styled-components';\nimport { SelectLabel } from './label';\nimport { toString, isArray } from './utils';\nimport { SelectProps, Rect, Option } from './typings';\n\nexport interface OptionsProps<T = any> {\n    options: SelectProps['options'];\n    value: SelectProps['value'];\n    labelComponent: SelectProps['labelComponent'];\n    multi: SelectProps['multi'];\n    selectedIndex?: number;\n    open: boolean;\n    rect: Rect;\n    search?: string;\n    onSelect(value: T | T[]): void;\n}\n\ninterface OptionComponentProps<T = any> extends Option<T> {\n    active?: boolean;\n    selected?: boolean;\n    labelComponent: SelectProps['labelComponent'];\n    onSelect(value: T): void;\n}\n\ninterface OptionItemProps {\n    active?: OptionComponentProps['active'];\n    selected?: OptionComponentProps['selected'];\n}\n\nclass OptionComponent extends React.PureComponent<OptionComponentProps> {\n    public static OptionItem = styled.div`\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        flex: 1;\n        height: 32px;\n        padding: 0 10px;\n        min-width: 0;\n        cursor: pointer;\n        background-color: ${(props: OptionItemProps) =>\n            props.active ? '#ddd' : props.selected ? '#eee' : '#fff'};\n\n        &:hover {\n            background-color: ${(props: OptionItemProps) =>\n                props.active ? '#ddd' : '#eee'};\n        }\n    `;\n\n    public render(): React.ReactNode {\n        const { OptionItem } = OptionComponent;\n        const { active, selected, label, labelComponent } = this.props;\n        const Label = labelComponent ? labelComponent : SelectLabel;\n\n        return (\n            <OptionItem\n                className=\"option\"\n                selected={selected}\n                active={active}\n                onClick={this.onClick}\n            >\n                <Label {...this.props}>{label}</Label>\n            </OptionItem>\n        );\n    }\n\n    @bind\n    private onClick(): void {\n        this.props.onSelect(this.props.value);\n    }\n}\n\nfunction getWindowInnerHeight(defaultHeight = 700): number {\n    if (typeof window !== 'undefined') {\n        return window.innerHeight;\n    }\n\n    return defaultHeight;\n}\n\nfunction menuPosition(rect: Rect): 'top' | 'bottom' {\n    if (rect.top + rect.height + 185 <= getWindowInnerHeight()) {\n        return 'bottom';\n    }\n\n    return 'top';\n}\n\nfunction getContainerTop(props: { rect: Rect }): string {\n    switch (menuPosition(props.rect)) {\n        case 'top':\n            return `${props.rect.top - 185 + 1}px`;\n        case 'bottom':\n            return `${props.rect.top + props.rect.height - 1}px`;\n    }\n}\n\nexport class Options extends React.PureComponent<OptionsProps> {\n    private static OptionsContainer = styled.div`\n        position: fixed;\n        left: ${(props: { rect: Rect }) => props.rect.left}px;\n        top: ${getContainerTop};\n        width: ${(props: { rect: Rect }) => props.rect.width}px;\n        z-index: 9999;\n        background: #fff;\n        box-shadow: ${(props: { rect: Rect }) =>\n            menuPosition(props.rect) === 'bottom'\n                ? '0 2px 5px rgba(0, 0, 0, 0.1)'\n                : '0 -2px 5px rgba(0, 0, 0, 0.1)'};\n\n        .ReactVirtualized__List {\n            border: 1px solid #ccc;\n\n            &:focus {\n                outline: none;\n            }\n        }\n    `;\n\n    private static Empty = () => (\n        <OptionComponent.OptionItem>\n            <SelectLabel>\n                <i>No results</i>\n            </SelectLabel>\n        </OptionComponent.OptionItem>\n    );\n\n    private list: React.RefObject<List>;\n\n    constructor(props) {\n        super(props);\n\n        this.list = React.createRef();\n    }\n\n    public componentDidUpdate(prevProps: OptionsProps): void {\n        const { selectedIndex, search } = this.props;\n        const { current } = this.list;\n\n        if (current) {\n            if (selectedIndex !== -1 && selectedIndex !== undefined) {\n                current.forceUpdateGrid();\n                current.scrollToRow(selectedIndex);\n            }\n\n            if (search !== prevProps.search) {\n                current.forceUpdateGrid();\n            }\n        }\n    }\n\n    public render(): React.ReactNode {\n        const { OptionsContainer, Empty } = Options;\n        const { open, rect, options, multi, selectedIndex } = this.props;\n\n        return open\n            ? createPortal(\n                  <OptionsContainer className=\"options-container\" rect={rect}>\n                      <List\n                          ref={this.list}\n                          width={rect.width}\n                          height={185}\n                          rowHeight={32}\n                          rowCount={options.length}\n                          rowRenderer={this.rowRenderer}\n                          scrollToRow={multi ? 0 : selectedIndex}\n                          noRowsRenderer={Empty}\n                      />\n                  </OptionsContainer>,\n                  document.body\n              )\n            : null;\n    }\n\n    @bind\n    private rowRenderer({ key, index, style }) {\n        const { options, labelComponent, selectedIndex } = this.props;\n        const option = options[index];\n        const currentValue = isArray(this.props.value)\n            ? this.props.value.map(val => toString(val))\n            : [toString(this.props.value)];\n        const value = toString(option.value);\n\n        return (\n            <div key={key} style={style}>\n                <OptionComponent\n                    {...option}\n                    labelComponent={labelComponent}\n                    active={currentValue.some(val => val === value)}\n                    selected={selectedIndex === index}\n                    onSelect={this.onSelect}\n                />\n            </div>\n        );\n    }\n\n    @bind\n    private onSelect(value: any): void {\n        this.props.onSelect(\n            isArray(this.props.value)\n                ? Array.from(new Set([...this.props.value, value]))\n                : value\n        );\n    }\n}\n","export interface SelectProps<T = any> {\n    className?: string;\n    options: Option<T>[];\n    value?: T | T[];\n    placeholder?: string;\n    creatable?: boolean;\n    clearable?: boolean;\n    searchable?: boolean;\n    disabled?: boolean;\n    multi?: boolean;\n    native?: boolean;\n    labelComponent?: React.ComponentClass<any> | React.StatelessComponent<any>;\n    onChange?(value: T | T[]): void;\n    onCreate?(value: string): void;\n}\n\nexport interface SelectState {\n    open: boolean;\n    search?: string;\n    selectedIndex?: number;\n}\n\nexport interface Option<T = any> {\n    value: T;\n    disabled?: boolean;\n    label: string;\n}\n\nexport interface Rect {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n}\n"]}