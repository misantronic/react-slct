{"version":3,"sources":["src/utils.ts"],"names":["equal","valueA","valueB","id","toJSON","JSON","stringify","isArray","val","Array","map","getWindow","window","exports","toKey","value","getValueOptions","options","filter","option","some","getDocument","document","getWindowInnerHeight","defaultHeight","innerHeight","keys","ARROW_UP","ARROW_DOWN","ENTER","TAB","ESC","BACKSPACE","SPACE"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wBAoBA,SAAgBA,EAAMC,EAAaC,GAC/B,OAAID,IAAWC,MAIVD,IAAWC,KAIM,iBAAXD,GAAyC,iBAAXC,IACjCD,EAAOE,KAAOD,EAAOC,KAIrBF,EAAOG,QAAUF,EAAOE,OACjBH,EAAOG,WAAaF,EAAOE,SAG/BC,KAAKC,UAAUL,KAAYI,KAAKC,UAAUJ,MAgBzD,SAAgBK,EAAiBC,GAC7B,QAAIC,MAAMF,QAAQC,OAKdA,IAAOA,EAAIE,KAenB,SAAgBC,IACZ,GAAsB,oBAAXC,OACP,OAAOA,wDA3EfC,EAAAC,MAAA,SAAsBC,GAClB,GAAqB,iBAAVA,EACP,OAAOA,EAGX,GAAqB,iBAAVA,EAAoB,CAC3B,GAAIA,EAAMZ,GACN,OAAOY,EAAMZ,GAGjB,GAAIY,EAAMX,OACN,OAAOW,EAAMX,SAIrB,OAAOC,KAAKC,UAAUS,IAG1BF,EAAAb,MAAAA,EAwBAa,EAAAG,gBAAA,SAAgCC,EAAmBF,GAC/C,OAAOE,EAAQC,OAAOC,GACdZ,EAAQQ,GACDA,EAAMK,KAAKZ,GAAOR,EAAMmB,EAAOJ,MAAOP,IAEtCR,EAAMmB,EAAOJ,MAAOA,KAKvCF,EAAAN,QAAAA,EAaAM,EAAAQ,YAAA,WACI,GAAwB,oBAAbC,SACP,OAAOA,UAMfT,EAAAF,UAAAA,EAQAE,EAAAU,qBAAA,SAAqCC,EAAgB,KACjD,MAAMZ,EAASD,IAEf,OAAIC,EACOA,EAAOa,YAGXD,GAGEX,EAAAa,KAAO,CAChBC,SAAU,GACVC,WAAY,GACZC,MAAO,GACPC,IAAK,EACLC,IAAK,GACLC,UAAW,EACXC,MAAO","sourcesContent":["import { Option } from '.';\n\nexport function toKey(value: any): string | number {\n    if (typeof value === 'string') {\n        return value;\n    }\n\n    if (typeof value === 'object') {\n        if (value.id) {\n            return value.id;\n        }\n\n        if (value.toJSON) {\n            return value.toJSON();\n        }\n    }\n\n    return JSON.stringify(value);\n}\n\nexport function equal(valueA: any, valueB: any) {\n    if (valueA === valueB) {\n        return true;\n    }\n\n    if (!valueA || !valueB) {\n        return false;\n    }\n\n    if (typeof valueA === 'object' && typeof valueB === 'object') {\n        if (valueA.id === valueB.id) {\n            return true;\n        }\n\n        if (valueA.toJSON && valueB.toJSON) {\n            return valueA.toJSON() === valueB.toJSON();\n        }\n\n        return JSON.stringify(valueA) === JSON.stringify(valueB);\n    }\n\n    return false;\n}\n\nexport function getValueOptions(options: Option[], value: any) {\n    return options.filter(option => {\n        if (isArray(value)) {\n            return value.some(val => equal(option.value, val));\n        } else {\n            return equal(option.value, value);\n        }\n    });\n}\n\nexport function isArray<T = any>(val: any): val is Array<T> {\n    if (Array.isArray(val)) {\n        return true;\n    }\n\n    // this is just a workaround for potential observable arrays\n    if (val && val.map) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getDocument(): Document | undefined {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n\n    return undefined;\n}\n\nexport function getWindow(): Window | undefined {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n\n    return undefined;\n}\n\nexport function getWindowInnerHeight(defaultHeight = 700): number {\n    const window = getWindow();\n\n    if (window) {\n        return window.innerHeight;\n    }\n\n    return defaultHeight;\n}\n\nexport const keys = {\n    ARROW_UP: 38,\n    ARROW_DOWN: 40,\n    ENTER: 13,\n    TAB: 9,\n    ESC: 27,\n    BACKSPACE: 8,\n    SPACE: 32\n};\n"]}